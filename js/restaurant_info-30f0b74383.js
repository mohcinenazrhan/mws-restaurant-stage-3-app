!function(){return function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){return o(t[a][1][e]||e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}}()({1:[function(e,t,n){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],2:[function(e,t,n){var r=e("./_wks")("unscopables"),o=Array.prototype;null==o[r]&&e("./_hide")(o,r,{}),t.exports=function(e){o[r][e]=!0}},{"./_hide":25,"./_wks":84}],3:[function(e,t,n){"use strict";var r=e("./_string-at")(!0);t.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},{"./_string-at":71}],4:[function(e,t,n){t.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},{}],5:[function(e,t,n){var r=e("./_is-object");t.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},{"./_is-object":33}],6:[function(e,t,n){var r=e("./_to-iobject"),o=e("./_to-length"),i=e("./_to-absolute-index");t.exports=function(e){return function(t,n,a){var s,c=r(t),u=o(c.length),l=i(a,u);if(e&&n!=n){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}}},{"./_to-absolute-index":74,"./_to-iobject":76,"./_to-length":77}],7:[function(e,t,n){var r=e("./_cof"),o=e("./_wks")("toStringTag"),i="Arguments"==r(function(){return arguments}());t.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:i?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},{"./_cof":8,"./_wks":84}],8:[function(e,t,n){var r={}.toString;t.exports=function(e){return r.call(e).slice(8,-1)}},{}],9:[function(e,t,n){var r=t.exports={version:"2.6.1"};"number"==typeof __e&&(__e=r)},{}],10:[function(e,t,n){"use strict";var r=e("./_object-dp"),o=e("./_property-desc");t.exports=function(e,t,n){t in e?r.f(e,t,o(0,n)):e[t]=n}},{"./_object-dp":47,"./_property-desc":60}],11:[function(e,t,n){var r=e("./_a-function");t.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},{"./_a-function":1}],12:[function(e,t,n){t.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},{}],13:[function(e,t,n){t.exports=!e("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":19}],14:[function(e,t,n){var r=e("./_is-object"),o=e("./_global").document,i=r(o)&&r(o.createElement);t.exports=function(e){return i?o.createElement(e):{}}},{"./_global":23,"./_is-object":33}],15:[function(e,t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],16:[function(e,t,n){var r=e("./_object-keys"),o=e("./_object-gops"),i=e("./_object-pie");t.exports=function(e){var t=r(e),n=o.f;if(n)for(var a,s=n(e),c=i.f,u=0;s.length>u;)c.call(e,a=s[u++])&&t.push(a);return t}},{"./_object-gops":52,"./_object-keys":55,"./_object-pie":56}],17:[function(e,t,n){var r=e("./_global"),o=e("./_core"),i=e("./_hide"),a=e("./_redefine"),s=e("./_ctx"),c=function(e,t,n){var u,l,f,d,p=e&c.F,h=e&c.G,m=e&c.S,v=e&c.P,g=e&c.B,y=h?r:m?r[t]||(r[t]={}):(r[t]||{}).prototype,_=h?o:o[t]||(o[t]={}),b=_.prototype||(_.prototype={});for(u in h&&(n=t),n)f=((l=!p&&y&&void 0!==y[u])?y:n)[u],d=g&&l?s(f,r):v&&"function"==typeof f?s(Function.call,f):f,y&&a(y,u,f,e&c.U),_[u]!=f&&i(_,u,d),v&&b[u]!=f&&(b[u]=f)};r.core=o,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},{"./_core":9,"./_ctx":11,"./_global":23,"./_hide":25,"./_redefine":62}],18:[function(e,t,n){var r=e("./_wks")("match");t.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(e){}}return!0}},{"./_wks":84}],19:[function(e,t,n){t.exports=function(e){try{return!!e()}catch(e){return!0}}},{}],20:[function(e,t,n){"use strict";e("./es6.regexp.exec");var r=e("./_redefine"),o=e("./_hide"),i=e("./_fails"),a=e("./_defined"),s=e("./_wks"),c=e("./_regexp-exec"),u=s("species"),l=!i(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),f=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(e,t,n){var d=s(e),p=!i(function(){var t={};return t[d]=function(){return 7},7!=""[e](t)}),h=p?!i(function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[u]=function(){return n}),n[d](""),!t}):void 0;if(!p||!h||"replace"===e&&!l||"split"===e&&!f){var m=/./[d],v=n(a,d,""[e],function(e,t,n,r,o){return t.exec===c?p&&!o?{done:!0,value:m.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),g=v[0],y=v[1];r(String.prototype,e,g),o(RegExp.prototype,d,2==t?function(e,t){return y.call(e,this,t)}:function(e){return y.call(e,this)})}}},{"./_defined":12,"./_fails":19,"./_hide":25,"./_redefine":62,"./_regexp-exec":64,"./_wks":84,"./es6.regexp.exec":93}],21:[function(e,t,n){"use strict";var r=e("./_an-object");t.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},{"./_an-object":5}],22:[function(e,t,n){var r=e("./_ctx"),o=e("./_iter-call"),i=e("./_is-array-iter"),a=e("./_an-object"),s=e("./_to-length"),c=e("./core.get-iterator-method"),u={},l={};(n=t.exports=function(e,t,n,f,d){var p,h,m,v,g=d?function(){return e}:c(e),y=r(n,f,t?2:1),_=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(i(g)){for(p=s(e.length);p>_;_++)if((v=t?y(a(h=e[_])[0],h[1]):y(e[_]))===u||v===l)return v}else for(m=g.call(e);!(h=m.next()).done;)if((v=o(m,y,h.value,t))===u||v===l)return v}).BREAK=u,n.RETURN=l},{"./_an-object":5,"./_ctx":11,"./_is-array-iter":31,"./_iter-call":35,"./_to-length":77,"./core.get-iterator-method":85}],23:[function(e,t,n){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},{}],24:[function(e,t,n){var r={}.hasOwnProperty;t.exports=function(e,t){return r.call(e,t)}},{}],25:[function(e,t,n){var r=e("./_object-dp"),o=e("./_property-desc");t.exports=e("./_descriptors")?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},{"./_descriptors":13,"./_object-dp":47,"./_property-desc":60}],26:[function(e,t,n){var r=e("./_global").document;t.exports=r&&r.documentElement},{"./_global":23}],27:[function(e,t,n){t.exports=!e("./_descriptors")&&!e("./_fails")(function(){return 7!=Object.defineProperty(e("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":13,"./_dom-create":14,"./_fails":19}],28:[function(e,t,n){var r=e("./_is-object"),o=e("./_set-proto").set;t.exports=function(e,t,n){var i,a=t.constructor;return a!==n&&"function"==typeof a&&(i=a.prototype)!==n.prototype&&r(i)&&o&&o(e,i),e}},{"./_is-object":33,"./_set-proto":65}],29:[function(e,t,n){t.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},{}],30:[function(e,t,n){var r=e("./_cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},{"./_cof":8}],31:[function(e,t,n){var r=e("./_iterators"),o=e("./_wks")("iterator"),i=Array.prototype;t.exports=function(e){return void 0!==e&&(r.Array===e||i[o]===e)}},{"./_iterators":40,"./_wks":84}],32:[function(e,t,n){var r=e("./_cof");t.exports=Array.isArray||function(e){return"Array"==r(e)}},{"./_cof":8}],33:[function(e,t,n){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],34:[function(e,t,n){var r=e("./_is-object"),o=e("./_cof"),i=e("./_wks")("match");t.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},{"./_cof":8,"./_is-object":33,"./_wks":84}],35:[function(e,t,n){var r=e("./_an-object");t.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&r(i.call(e)),t}}},{"./_an-object":5}],36:[function(e,t,n){"use strict";var r=e("./_object-create"),o=e("./_property-desc"),i=e("./_set-to-string-tag"),a={};e("./_hide")(a,e("./_wks")("iterator"),function(){return this}),t.exports=function(e,t,n){e.prototype=r(a,{next:o(1,n)}),i(e,t+" Iterator")}},{"./_hide":25,"./_object-create":46,"./_property-desc":60,"./_set-to-string-tag":67,"./_wks":84}],37:[function(e,t,n){"use strict";var r=e("./_library"),o=e("./_export"),i=e("./_redefine"),a=e("./_hide"),s=e("./_iterators"),c=e("./_iter-create"),u=e("./_set-to-string-tag"),l=e("./_object-gpo"),f=e("./_wks")("iterator"),d=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(e,t,n,h,m,v,g){c(n,t,h);var y,_,b,w=function(e){if(!d&&e in S)return S[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},x=t+" Iterator",k="values"==m,j=!1,S=e.prototype,E=S[f]||S["@@iterator"]||m&&S[m],L=E||w(m),P=m?k?w("entries"):L:void 0,T="Array"==t&&S.entries||E;if(T&&(b=l(T.call(new e)))!==Object.prototype&&b.next&&(u(b,x,!0),r||"function"==typeof b[f]||a(b,f,p)),k&&E&&"values"!==E.name&&(j=!0,L=function(){return E.call(this)}),r&&!g||!d&&!j&&S[f]||a(S,f,L),s[t]=L,s[x]=p,m)if(y={values:k?L:w("values"),keys:v?L:w("keys"),entries:P},g)for(_ in y)_ in S||i(S,_,y[_]);else o(o.P+o.F*(d||j),t,y);return y}},{"./_export":17,"./_hide":25,"./_iter-create":36,"./_iterators":40,"./_library":41,"./_object-gpo":53,"./_redefine":62,"./_set-to-string-tag":67,"./_wks":84}],38:[function(e,t,n){var r=e("./_wks")("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(e){}t.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i=[7],a=i[r]();a.next=function(){return{done:n=!0}},i[r]=function(){return a},e(i)}catch(e){}return n}},{"./_wks":84}],39:[function(e,t,n){t.exports=function(e,t){return{value:t,done:!!e}}},{}],40:[function(e,t,n){t.exports={}},{}],41:[function(e,t,n){t.exports=!1},{}],42:[function(e,t,n){var r=e("./_uid")("meta"),o=e("./_is-object"),i=e("./_has"),a=e("./_object-dp").f,s=0,c=Object.isExtensible||function(){return!0},u=!e("./_fails")(function(){return c(Object.preventExtensions({}))}),l=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},f=t.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,r)){if(!c(e))return"F";if(!t)return"E";l(e)}return e[r].i},getWeak:function(e,t){if(!i(e,r)){if(!c(e))return!0;if(!t)return!1;l(e)}return e[r].w},onFreeze:function(e){return u&&f.NEED&&c(e)&&!i(e,r)&&l(e),e}}},{"./_fails":19,"./_has":24,"./_is-object":33,"./_object-dp":47,"./_uid":80}],43:[function(e,t,n){var r=e("./_global"),o=e("./_task").set,i=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,c="process"==e("./_cof")(a);t.exports=function(){var e,t,n,u=function(){var r,o;for(c&&(r=a.domain)&&r.exit();e;){o=e.fn,e=e.next;try{o()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(c)n=function(){a.nextTick(u)};else if(!i||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var l=s.resolve(void 0);n=function(){l.then(u)}}else n=function(){o.call(r,u)};else{var f=!0,d=document.createTextNode("");new i(u).observe(d,{characterData:!0}),n=function(){d.data=f=!f}}return function(r){var o={fn:r,next:void 0};t&&(t.next=o),e||(e=o,n()),t=o}}},{"./_cof":8,"./_global":23,"./_task":73}],44:[function(e,t,n){"use strict";var r=e("./_a-function");function o(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=r(t),this.reject=r(n)}t.exports.f=function(e){return new o(e)}},{"./_a-function":1}],45:[function(e,t,n){"use strict";var r=e("./_object-keys"),o=e("./_object-gops"),i=e("./_object-pie"),a=e("./_to-object"),s=e("./_iobject"),c=Object.assign;t.exports=!c||e("./_fails")(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=c({},e)[n]||Object.keys(c({},t)).join("")!=r})?function(e,t){for(var n=a(e),c=arguments.length,u=1,l=o.f,f=i.f;c>u;)for(var d,p=s(arguments[u++]),h=l?r(p).concat(l(p)):r(p),m=h.length,v=0;m>v;)f.call(p,d=h[v++])&&(n[d]=p[d]);return n}:c},{"./_fails":19,"./_iobject":30,"./_object-gops":52,"./_object-keys":55,"./_object-pie":56,"./_to-object":78}],46:[function(e,t,n){var r=e("./_an-object"),o=e("./_object-dps"),i=e("./_enum-bug-keys"),a=e("./_shared-key")("IE_PROTO"),s=function(){},c=function(){var t,n=e("./_dom-create")("iframe"),r=i.length;for(n.style.display="none",e("./_html").appendChild(n),n.src="javascript:",(t=n.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;r--;)delete c.prototype[i[r]];return c()};t.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=c(),void 0===t?n:o(n,t)}},{"./_an-object":5,"./_dom-create":14,"./_enum-bug-keys":15,"./_html":26,"./_object-dps":48,"./_shared-key":68}],47:[function(e,t,n){var r=e("./_an-object"),o=e("./_ie8-dom-define"),i=e("./_to-primitive"),a=Object.defineProperty;n.f=e("./_descriptors")?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},{"./_an-object":5,"./_descriptors":13,"./_ie8-dom-define":27,"./_to-primitive":79}],48:[function(e,t,n){var r=e("./_object-dp"),o=e("./_an-object"),i=e("./_object-keys");t.exports=e("./_descriptors")?Object.defineProperties:function(e,t){o(e);for(var n,a=i(t),s=a.length,c=0;s>c;)r.f(e,n=a[c++],t[n]);return e}},{"./_an-object":5,"./_descriptors":13,"./_object-dp":47,"./_object-keys":55}],49:[function(e,t,n){var r=e("./_object-pie"),o=e("./_property-desc"),i=e("./_to-iobject"),a=e("./_to-primitive"),s=e("./_has"),c=e("./_ie8-dom-define"),u=Object.getOwnPropertyDescriptor;n.f=e("./_descriptors")?u:function(e,t){if(e=i(e),t=a(t,!0),c)try{return u(e,t)}catch(e){}if(s(e,t))return o(!r.f.call(e,t),e[t])}},{"./_descriptors":13,"./_has":24,"./_ie8-dom-define":27,"./_object-pie":56,"./_property-desc":60,"./_to-iobject":76,"./_to-primitive":79}],50:[function(e,t,n){var r=e("./_to-iobject"),o=e("./_object-gopn").f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(e){return a&&"[object Window]"==i.call(e)?function(e){try{return o(e)}catch(e){return a.slice()}}(e):o(r(e))}},{"./_object-gopn":51,"./_to-iobject":76}],51:[function(e,t,n){var r=e("./_object-keys-internal"),o=e("./_enum-bug-keys").concat("length","prototype");n.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},{"./_enum-bug-keys":15,"./_object-keys-internal":54}],52:[function(e,t,n){n.f=Object.getOwnPropertySymbols},{}],53:[function(e,t,n){var r=e("./_has"),o=e("./_to-object"),i=e("./_shared-key")("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},{"./_has":24,"./_shared-key":68,"./_to-object":78}],54:[function(e,t,n){var r=e("./_has"),o=e("./_to-iobject"),i=e("./_array-includes")(!1),a=e("./_shared-key")("IE_PROTO");t.exports=function(e,t){var n,s=o(e),c=0,u=[];for(n in s)n!=a&&r(s,n)&&u.push(n);for(;t.length>c;)r(s,n=t[c++])&&(~i(u,n)||u.push(n));return u}},{"./_array-includes":6,"./_has":24,"./_shared-key":68,"./_to-iobject":76}],55:[function(e,t,n){var r=e("./_object-keys-internal"),o=e("./_enum-bug-keys");t.exports=Object.keys||function(e){return r(e,o)}},{"./_enum-bug-keys":15,"./_object-keys-internal":54}],56:[function(e,t,n){n.f={}.propertyIsEnumerable},{}],57:[function(e,t,n){var r=e("./_export"),o=e("./_core"),i=e("./_fails");t.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*i(function(){n(1)}),"Object",a)}},{"./_core":9,"./_export":17,"./_fails":19}],58:[function(e,t,n){t.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},{}],59:[function(e,t,n){var r=e("./_an-object"),o=e("./_is-object"),i=e("./_new-promise-capability");t.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=i.f(e);return(0,n.resolve)(t),n.promise}},{"./_an-object":5,"./_is-object":33,"./_new-promise-capability":44}],60:[function(e,t,n){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],61:[function(e,t,n){var r=e("./_redefine");t.exports=function(e,t,n){for(var o in t)r(e,o,t[o],n);return e}},{"./_redefine":62}],62:[function(e,t,n){var r=e("./_global"),o=e("./_hide"),i=e("./_has"),a=e("./_uid")("src"),s=Function.toString,c=(""+s).split("toString");e("./_core").inspectSource=function(e){return s.call(e)},(t.exports=function(e,t,n,s){var u="function"==typeof n;u&&(i(n,"name")||o(n,"name",t)),e[t]!==n&&(u&&(i(n,a)||o(n,a,e[t]?""+e[t]:c.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:o(e,t,n):(delete e[t],o(e,t,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||s.call(this)})},{"./_core":9,"./_global":23,"./_has":24,"./_hide":25,"./_uid":80}],63:[function(e,t,n){"use strict";var r=e("./_classof"),o=RegExp.prototype.exec;t.exports=function(e,t){var n=e.exec;if("function"==typeof n){var i=n.call(e,t);if("object"!=typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},{"./_classof":7}],64:[function(e,t,n){"use strict";var r,o,i=e("./_flags"),a=RegExp.prototype.exec,s=String.prototype.replace,c=a,u=(r=/a/,o=/b*/g,a.call(r,"a"),a.call(o,"a"),0!==r.lastIndex||0!==o.lastIndex),l=void 0!==/()??/.exec("")[1];(u||l)&&(c=function(e){var t,n,r,o,c=this;return l&&(n=new RegExp("^"+c.source+"$(?!\\s)",i.call(c))),u&&(t=c.lastIndex),r=a.call(c,e),u&&r&&(c.lastIndex=c.global?r.index+r[0].length:t),l&&r&&r.length>1&&s.call(r[0],n,function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)}),r}),t.exports=c},{"./_flags":21}],65:[function(e,t,n){var r=e("./_is-object"),o=e("./_an-object"),i=function(e,t){if(o(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,r){try{(r=e("./_ctx")(Function.call,e("./_object-gopd").f(Object.prototype,"__proto__").set,2))(t,[]),n=!(t instanceof Array)}catch(e){n=!0}return function(e,t){return i(e,t),n?e.__proto__=t:r(e,t),e}}({},!1):void 0),check:i}},{"./_an-object":5,"./_ctx":11,"./_is-object":33,"./_object-gopd":49}],66:[function(e,t,n){"use strict";var r=e("./_global"),o=e("./_object-dp"),i=e("./_descriptors"),a=e("./_wks")("species");t.exports=function(e){var t=r[e];i&&t&&!t[a]&&o.f(t,a,{configurable:!0,get:function(){return this}})}},{"./_descriptors":13,"./_global":23,"./_object-dp":47,"./_wks":84}],67:[function(e,t,n){var r=e("./_object-dp").f,o=e("./_has"),i=e("./_wks")("toStringTag");t.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},{"./_has":24,"./_object-dp":47,"./_wks":84}],68:[function(e,t,n){var r=e("./_shared")("keys"),o=e("./_uid");t.exports=function(e){return r[e]||(r[e]=o(e))}},{"./_shared":69,"./_uid":80}],69:[function(e,t,n){var r=e("./_core"),o=e("./_global"),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(t.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:e("./_library")?"pure":"global",copyright:"Â© 2018 Denis Pushkarev (zloirock.ru)"})},{"./_core":9,"./_global":23,"./_library":41}],70:[function(e,t,n){var r=e("./_an-object"),o=e("./_a-function"),i=e("./_wks")("species");t.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||null==(n=r(a)[i])?t:o(n)}},{"./_a-function":1,"./_an-object":5,"./_wks":84}],71:[function(e,t,n){var r=e("./_to-integer"),o=e("./_defined");t.exports=function(e){return function(t,n){var i,a,s=String(o(t)),c=r(n),u=s.length;return c<0||c>=u?e?"":void 0:(i=s.charCodeAt(c))<55296||i>56319||c+1===u||(a=s.charCodeAt(c+1))<56320||a>57343?e?s.charAt(c):i:e?s.slice(c,c+2):a-56320+(i-55296<<10)+65536}}},{"./_defined":12,"./_to-integer":75}],72:[function(e,t,n){var r=e("./_is-regexp"),o=e("./_defined");t.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(o(e))}},{"./_defined":12,"./_is-regexp":34}],73:[function(e,t,n){var r,o,i,a=e("./_ctx"),s=e("./_invoke"),c=e("./_html"),u=e("./_dom-create"),l=e("./_global"),f=l.process,d=l.setImmediate,p=l.clearImmediate,h=l.MessageChannel,m=l.Dispatch,v=0,g={},y=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},_=function(e){y.call(e.data)};d&&p||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return g[++v]=function(){s("function"==typeof e?e:Function(e),t)},r(v),v},p=function(e){delete g[e]},"process"==e("./_cof")(f)?r=function(e){f.nextTick(a(y,e,1))}:m&&m.now?r=function(e){m.now(a(y,e,1))}:h?(i=(o=new h).port2,o.port1.onmessage=_,r=a(i.postMessage,i,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",_,!1)):r="onreadystatechange"in u("script")?function(e){c.appendChild(u("script")).onreadystatechange=function(){c.removeChild(this),y.call(e)}}:function(e){setTimeout(a(y,e,1),0)}),t.exports={set:d,clear:p}},{"./_cof":8,"./_ctx":11,"./_dom-create":14,"./_global":23,"./_html":26,"./_invoke":29}],74:[function(e,t,n){var r=e("./_to-integer"),o=Math.max,i=Math.min;t.exports=function(e,t){return(e=r(e))<0?o(e+t,0):i(e,t)}},{"./_to-integer":75}],75:[function(e,t,n){var r=Math.ceil,o=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?o:r)(e)}},{}],76:[function(e,t,n){var r=e("./_iobject"),o=e("./_defined");t.exports=function(e){return r(o(e))}},{"./_defined":12,"./_iobject":30}],77:[function(e,t,n){var r=e("./_to-integer"),o=Math.min;t.exports=function(e){return e>0?o(r(e),9007199254740991):0}},{"./_to-integer":75}],78:[function(e,t,n){var r=e("./_defined");t.exports=function(e){return Object(r(e))}},{"./_defined":12}],79:[function(e,t,n){var r=e("./_is-object");t.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":33}],80:[function(e,t,n){var r=0,o=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+o).toString(36))}},{}],81:[function(e,t,n){var r=e("./_global").navigator;t.exports=r&&r.userAgent||""},{"./_global":23}],82:[function(e,t,n){var r=e("./_global"),o=e("./_core"),i=e("./_library"),a=e("./_wks-ext"),s=e("./_object-dp").f;t.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},{"./_core":9,"./_global":23,"./_library":41,"./_object-dp":47,"./_wks-ext":83}],83:[function(e,t,n){n.f=e("./_wks")},{"./_wks":84}],84:[function(e,t,n){var r=e("./_shared")("wks"),o=e("./_uid"),i=e("./_global").Symbol,a="function"==typeof i;(t.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=r},{"./_global":23,"./_shared":69,"./_uid":80}],85:[function(e,t,n){var r=e("./_classof"),o=e("./_wks")("iterator"),i=e("./_iterators");t.exports=e("./_core").getIteratorMethod=function(e){if(null!=e)return e[o]||e["@@iterator"]||i[r(e)]}},{"./_classof":7,"./_core":9,"./_iterators":40,"./_wks":84}],86:[function(e,t,n){"use strict";var r=e("./_ctx"),o=e("./_export"),i=e("./_to-object"),a=e("./_iter-call"),s=e("./_is-array-iter"),c=e("./_to-length"),u=e("./_create-property"),l=e("./core.get-iterator-method");o(o.S+o.F*!e("./_iter-detect")(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,o,f,d=i(e),p="function"==typeof this?this:Array,h=arguments.length,m=h>1?arguments[1]:void 0,v=void 0!==m,g=0,y=l(d);if(v&&(m=r(m,h>2?arguments[2]:void 0,2)),null==y||p==Array&&s(y))for(n=new p(t=c(d.length));t>g;g++)u(n,g,v?m(d[g],g):d[g]);else for(f=y.call(d),n=new p;!(o=f.next()).done;g++)u(n,g,v?a(f,m,[o.value,g],!0):o.value);return n.length=g,n}})},{"./_create-property":10,"./_ctx":11,"./_export":17,"./_is-array-iter":31,"./_iter-call":35,"./_iter-detect":38,"./_to-length":77,"./_to-object":78,"./core.get-iterator-method":85}],87:[function(e,t,n){"use strict";var r=e("./_add-to-unscopables"),o=e("./_iter-step"),i=e("./_iterators"),a=e("./_to-iobject");t.exports=e("./_iter-define")(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},{"./_add-to-unscopables":2,"./_iter-define":37,"./_iter-step":39,"./_iterators":40,"./_to-iobject":76}],88:[function(e,t,n){var r=e("./_object-dp").f,o=Function.prototype,i=/^\s*function ([^ (]*)/;"name"in o||e("./_descriptors")&&r(o,"name",{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(e){return""}}})},{"./_descriptors":13,"./_object-dp":47}],89:[function(e,t,n){var r=e("./_export");r(r.S+r.F,"Object",{assign:e("./_object-assign")})},{"./_export":17,"./_object-assign":45}],90:[function(e,t,n){var r=e("./_to-object"),o=e("./_object-keys");e("./_object-sap")("keys",function(){return function(e){return o(r(e))}})},{"./_object-keys":55,"./_object-sap":57,"./_to-object":78}],91:[function(e,t,n){"use strict";var r,o,i,a,s=e("./_library"),c=e("./_global"),u=e("./_ctx"),l=e("./_classof"),f=e("./_export"),d=e("./_is-object"),p=e("./_a-function"),h=e("./_an-instance"),m=e("./_for-of"),v=e("./_species-constructor"),g=e("./_task").set,y=e("./_microtask")(),_=e("./_new-promise-capability"),b=e("./_perform"),w=e("./_user-agent"),x=e("./_promise-resolve"),k=c.TypeError,j=c.process,S=j&&j.versions,E=S&&S.v8||"",L=c.Promise,P="process"==l(j),T=function(){},O=o=_.f,R=!!function(){try{var t=L.resolve(1),n=(t.constructor={})[e("./_wks")("species")]=function(e){e(T,T)};return(P||"function"==typeof PromiseRejectionEvent)&&t.then(T)instanceof n&&0!==E.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(e){}}(),M=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},I=function(e,t){if(!e._n){e._n=!0;var n=e._c;y(function(){for(var r=e._v,o=1==e._s,i=0,a=function(t){var n,i,a,s=o?t.ok:t.fail,c=t.resolve,u=t.reject,l=t.domain;try{s?(o||(2==e._h&&D(e),e._h=1),!0===s?n=r:(l&&l.enter(),n=s(r),l&&(l.exit(),a=!0)),n===t.promise?u(k("Promise-chain cycle")):(i=M(n))?i.call(n,c,u):c(n)):u(r)}catch(e){l&&!a&&l.exit(),u(e)}};n.length>i;)a(n[i++]);e._c=[],e._n=!1,t&&!e._h&&A(e)})}},A=function(e){g.call(c,function(){var t,n,r,o=e._v,i=B(e);if(i&&(t=b(function(){P?j.emit("unhandledRejection",o,e):(n=c.onunhandledrejection)?n({promise:e,reason:o}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",o)}),e._h=P||B(e)?2:1),e._a=void 0,i&&t.e)throw t.v})},B=function(e){return 1!==e._h&&0===(e._a||e._c).length},D=function(e){g.call(c,function(){var t;P?j.emit("rejectionHandled",e):(t=c.onrejectionhandled)&&t({promise:e,reason:e._v})})},C=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),I(t,!0))},H=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw k("Promise can't be resolved itself");(t=M(e))?y(function(){var r={_w:n,_d:!1};try{t.call(e,u(H,r,1),u(C,r,1))}catch(e){C.call(r,e)}}):(n._v=e,n._s=1,I(n,!1))}catch(e){C.call({_w:n,_d:!1},e)}}};R||(L=function(e){h(this,L,"Promise","_h"),p(e),r.call(this);try{e(u(H,this,1),u(C,this,1))}catch(e){C.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=e("./_redefine-all")(L.prototype,{then:function(e,t){var n=O(v(this,L));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=P?j.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&I(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r;this.promise=e,this.resolve=u(H,e,1),this.reject=u(C,e,1)},_.f=O=function(e){return e===L||e===a?new i(e):o(e)}),f(f.G+f.W+f.F*!R,{Promise:L}),e("./_set-to-string-tag")(L,"Promise"),e("./_set-species")("Promise"),a=e("./_core").Promise,f(f.S+f.F*!R,"Promise",{reject:function(e){var t=O(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(s||!R),"Promise",{resolve:function(e){return x(s&&this===a?L:this,e)}}),f(f.S+f.F*!(R&&e("./_iter-detect")(function(e){L.all(e).catch(T)})),"Promise",{all:function(e){var t=this,n=O(t),r=n.resolve,o=n.reject,i=b(function(){var n=[],i=0,a=1;m(e,!1,function(e){var s=i++,c=!1;n.push(void 0),a++,t.resolve(e).then(function(e){c||(c=!0,n[s]=e,--a||r(n))},o)}),--a||r(n)});return i.e&&o(i.v),n.promise},race:function(e){var t=this,n=O(t),r=n.reject,o=b(function(){m(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return o.e&&r(o.v),n.promise}})},{"./_a-function":1,"./_an-instance":4,"./_classof":7,"./_core":9,"./_ctx":11,"./_export":17,"./_for-of":22,"./_global":23,"./_is-object":33,"./_iter-detect":38,"./_library":41,"./_microtask":43,"./_new-promise-capability":44,"./_perform":58,"./_promise-resolve":59,"./_redefine-all":61,"./_set-species":66,"./_set-to-string-tag":67,"./_species-constructor":70,"./_task":73,"./_user-agent":81,"./_wks":84}],92:[function(e,t,n){var r=e("./_global"),o=e("./_inherit-if-required"),i=e("./_object-dp").f,a=e("./_object-gopn").f,s=e("./_is-regexp"),c=e("./_flags"),u=r.RegExp,l=u,f=u.prototype,d=/a/g,p=/a/g,h=new u(d)!==d;if(e("./_descriptors")&&(!h||e("./_fails")(function(){return p[e("./_wks")("match")]=!1,u(d)!=d||u(p)==p||"/a/i"!=u(d,"i")}))){u=function(e,t){var n=this instanceof u,r=s(e),i=void 0===t;return!n&&r&&e.constructor===u&&i?e:o(h?new l(r&&!i?e.source:e,t):l((r=e instanceof u)?e.source:e,r&&i?c.call(e):t),n?this:f,u)};for(var m=function(e){e in u||i(u,e,{configurable:!0,get:function(){return l[e]},set:function(t){l[e]=t}})},v=a(l),g=0;v.length>g;)m(v[g++]);f.constructor=u,u.prototype=f,e("./_redefine")(r,"RegExp",u)}e("./_set-species")("RegExp")},{"./_descriptors":13,"./_fails":19,"./_flags":21,"./_global":23,"./_inherit-if-required":28,"./_is-regexp":34,"./_object-dp":47,"./_object-gopn":51,"./_redefine":62,"./_set-species":66,"./_wks":84}],93:[function(e,t,n){"use strict";var r=e("./_regexp-exec");e("./_export")({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},{"./_export":17,"./_regexp-exec":64}],94:[function(e,t,n){e("./_descriptors")&&"g"!=/./g.flags&&e("./_object-dp").f(RegExp.prototype,"flags",{configurable:!0,get:e("./_flags")})},{"./_descriptors":13,"./_flags":21,"./_object-dp":47}],95:[function(e,t,n){"use strict";var r=e("./_an-object"),o=e("./_to-object"),i=e("./_to-length"),a=e("./_to-integer"),s=e("./_advance-string-index"),c=e("./_regexp-exec-abstract"),u=Math.max,l=Math.min,f=Math.floor,d=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g;e("./_fix-re-wks")("replace",2,function(e,t,n,h){return[function(r,o){var i=e(this),a=null==r?void 0:r[t];return void 0!==a?a.call(r,i,o):n.call(String(i),r,o)},function(e,t){var o=h(n,e,this,t);if(o.done)return o.value;var f=r(e),d=String(this),p="function"==typeof t;p||(t=String(t));var v=f.global;if(v){var g=f.unicode;f.lastIndex=0}for(var y=[];;){var _=c(f,d);if(null===_)break;if(y.push(_),!v)break;""===String(_[0])&&(f.lastIndex=s(d,i(f.lastIndex),g))}for(var b,w="",x=0,k=0;k<y.length;k++){_=y[k];for(var j=String(_[0]),S=u(l(a(_.index),d.length),0),E=[],L=1;L<_.length;L++)E.push(void 0===(b=_[L])?b:String(b));var P=_.groups;if(p){var T=[j].concat(E,S,d);void 0!==P&&T.push(P);var O=String(t.apply(void 0,T))}else O=m(j,d,S,E,P,t);S>=x&&(w+=d.slice(x,S)+O,x=S+j.length)}return w+d.slice(x)}];function m(e,t,r,i,a,s){var c=r+e.length,u=i.length,l=p;return void 0!==a&&(a=o(a),l=d),n.call(s,l,function(n,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(c);case"<":s=a[o.slice(1,-1)];break;default:var l=+o;if(0===l)return o;if(l>u){var d=f(l/10);return 0===d?o:d<=u?void 0===i[d-1]?o.charAt(1):i[d-1]+o.charAt(1):o}s=i[l-1]}return void 0===s?"":s})}})},{"./_advance-string-index":3,"./_an-object":5,"./_fix-re-wks":20,"./_regexp-exec-abstract":63,"./_to-integer":75,"./_to-length":77,"./_to-object":78}],96:[function(e,t,n){"use strict";e("./es6.regexp.flags");var r=e("./_an-object"),o=e("./_flags"),i=e("./_descriptors"),a=/./.toString,s=function(t){e("./_redefine")(RegExp.prototype,"toString",t,!0)};e("./_fails")(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?s(function(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!i&&e instanceof RegExp?o.call(e):void 0)}):"toString"!=a.name&&s(function(){return a.call(this)})},{"./_an-object":5,"./_descriptors":13,"./_fails":19,"./_flags":21,"./_redefine":62,"./es6.regexp.flags":94}],97:[function(e,t,n){"use strict";var r=e("./_export"),o=e("./_string-context");r(r.P+r.F*e("./_fails-is-regexp")("includes"),"String",{includes:function(e){return!!~o(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},{"./_export":17,"./_fails-is-regexp":18,"./_string-context":72}],98:[function(e,t,n){"use strict";var r=e("./_string-at")(!0);e("./_iter-define")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},{"./_iter-define":37,"./_string-at":71}],99:[function(e,t,n){"use strict";var r=e("./_global"),o=e("./_has"),i=e("./_descriptors"),a=e("./_export"),s=e("./_redefine"),c=e("./_meta").KEY,u=e("./_fails"),l=e("./_shared"),f=e("./_set-to-string-tag"),d=e("./_uid"),p=e("./_wks"),h=e("./_wks-ext"),m=e("./_wks-define"),v=e("./_enum-keys"),g=e("./_is-array"),y=e("./_an-object"),_=e("./_is-object"),b=e("./_to-iobject"),w=e("./_to-primitive"),x=e("./_property-desc"),k=e("./_object-create"),j=e("./_object-gopn-ext"),S=e("./_object-gopd"),E=e("./_object-dp"),L=e("./_object-keys"),P=S.f,T=E.f,O=j.f,R=r.Symbol,M=r.JSON,I=M&&M.stringify,A=p("_hidden"),B=p("toPrimitive"),D={}.propertyIsEnumerable,C=l("symbol-registry"),H=l("symbols"),N=l("op-symbols"),F=Object.prototype,U="function"==typeof R,W=r.QObject,q=!W||!W.prototype||!W.prototype.findChild,V=i&&u(function(){return 7!=k(T({},"a",{get:function(){return T(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=P(F,t);r&&delete F[t],T(e,t,n),r&&e!==F&&T(F,t,r)}:T,G=function(e){var t=H[e]=k(R.prototype);return t._k=e,t},Y=U&&"symbol"==typeof R.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof R},J=function(e,t,n){return e===F&&J(N,t,n),y(e),t=w(t,!0),y(n),o(H,t)?(n.enumerable?(o(e,A)&&e[A][t]&&(e[A][t]=!1),n=k(n,{enumerable:x(0,!1)})):(o(e,A)||T(e,A,x(1,{})),e[A][t]=!0),V(e,t,n)):T(e,t,n)},K=function(e,t){y(e);for(var n,r=v(t=b(t)),o=0,i=r.length;i>o;)J(e,n=r[o++],t[n]);return e},z=function(e){var t=D.call(this,e=w(e,!0));return!(this===F&&o(H,e)&&!o(N,e))&&(!(t||!o(this,e)||!o(H,e)||o(this,A)&&this[A][e])||t)},Q=function(e,t){if(e=b(e),t=w(t,!0),e!==F||!o(H,t)||o(N,t)){var n=P(e,t);return!n||!o(H,t)||o(e,A)&&e[A][t]||(n.enumerable=!0),n}},$=function(e){for(var t,n=O(b(e)),r=[],i=0;n.length>i;)o(H,t=n[i++])||t==A||t==c||r.push(t);return r},X=function(e){for(var t,n=e===F,r=O(n?N:b(e)),i=[],a=0;r.length>a;)!o(H,t=r[a++])||n&&!o(F,t)||i.push(H[t]);return i};U||(s((R=function(){if(this instanceof R)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(n){this===F&&t.call(N,n),o(this,A)&&o(this[A],e)&&(this[A][e]=!1),V(this,e,x(1,n))};return i&&q&&V(F,e,{configurable:!0,set:t}),G(e)}).prototype,"toString",function(){return this._k}),S.f=Q,E.f=J,e("./_object-gopn").f=j.f=$,e("./_object-pie").f=z,e("./_object-gops").f=X,i&&!e("./_library")&&s(F,"propertyIsEnumerable",z,!0),h.f=function(e){return G(p(e))}),a(a.G+a.W+a.F*!U,{Symbol:R});for(var Z="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;Z.length>ee;)p(Z[ee++]);for(var te=L(p.store),ne=0;te.length>ne;)m(te[ne++]);a(a.S+a.F*!U,"Symbol",{for:function(e){return o(C,e+="")?C[e]:C[e]=R(e)},keyFor:function(e){if(!Y(e))throw TypeError(e+" is not a symbol!");for(var t in C)if(C[t]===e)return t},useSetter:function(){q=!0},useSimple:function(){q=!1}}),a(a.S+a.F*!U,"Object",{create:function(e,t){return void 0===t?k(e):K(k(e),t)},defineProperty:J,defineProperties:K,getOwnPropertyDescriptor:Q,getOwnPropertyNames:$,getOwnPropertySymbols:X}),M&&a(a.S+a.F*(!U||u(function(){var e=R();return"[null]"!=I([e])||"{}"!=I({a:e})||"{}"!=I(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=t=r[1],(_(t)||void 0!==e)&&!Y(e))return g(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!Y(t))return t}),r[1]=t,I.apply(M,r)}}),R.prototype[B]||e("./_hide")(R.prototype,B,R.prototype.valueOf),f(R,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},{"./_an-object":5,"./_descriptors":13,"./_enum-keys":16,"./_export":17,"./_fails":19,"./_global":23,"./_has":24,"./_hide":25,"./_is-array":32,"./_is-object":33,"./_library":41,"./_meta":42,"./_object-create":46,"./_object-dp":47,"./_object-gopd":49,"./_object-gopn":51,"./_object-gopn-ext":50,"./_object-gops":52,"./_object-keys":55,"./_object-pie":56,"./_property-desc":60,"./_redefine":62,"./_set-to-string-tag":67,"./_shared":69,"./_to-iobject":76,"./_to-primitive":79,"./_uid":80,"./_wks":84,"./_wks-define":82,"./_wks-ext":83}],100:[function(e,t,n){"use strict";var r=e("./_export"),o=e("./_array-includes")(!0);r(r.P,"Array",{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),e("./_add-to-unscopables")("includes")},{"./_add-to-unscopables":2,"./_array-includes":6,"./_export":17}],101:[function(e,t,n){e("./_wks-define")("asyncIterator")},{"./_wks-define":82}],102:[function(e,t,n){for(var r=e("./es6.array.iterator"),o=e("./_object-keys"),i=e("./_redefine"),a=e("./_global"),s=e("./_hide"),c=e("./_iterators"),u=e("./_wks"),l=u("iterator"),f=u("toStringTag"),d=c.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=o(p),m=0;m<h.length;m++){var v,g=h[m],y=p[g],_=a[g],b=_&&_.prototype;if(b&&(b[l]||s(b,l,d),b[f]||s(b,f,g),c[g]=d,y))for(v in r)b[v]||i(b,v,r[v],!0)}},{"./_global":23,"./_hide":25,"./_iterators":40,"./_object-keys":55,"./_redefine":62,"./_wks":84,"./es6.array.iterator":87}],103:[function(e,t,n){"use strict";!function(){function e(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function n(t,n,r){var o,i=new Promise(function(i,a){e(o=t[n].apply(t,r)).then(i,a)});return i.request=o,i}function r(e,t,n){n.forEach(function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})})}function o(e,t,r,o){o.forEach(function(o){o in r.prototype&&(e.prototype[o]=function(){return n(this[t],o,arguments)})})}function i(e,t,n,r){r.forEach(function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})})}function a(e,t,r,o){o.forEach(function(o){o in r.prototype&&(e.prototype[o]=function(){return e=this[t],(r=n(e,o,arguments)).then(function(e){if(e)return new c(e,r.request)});var e,r})})}function s(e){this._index=e}function c(e,t){this._cursor=e,this._request=t}function u(e){this._store=e}function l(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}function f(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new l(n)}function d(e){this._db=e}r(s,"_index",["name","keyPath","multiEntry","unique"]),o(s,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),a(s,"_index",IDBIndex,["openCursor","openKeyCursor"]),r(c,"_cursor",["direction","key","primaryKey","value"]),o(c,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(t){t in IDBCursor.prototype&&(c.prototype[t]=function(){var n=this,r=arguments;return Promise.resolve().then(function(){return n._cursor[t].apply(n._cursor,r),e(n._request).then(function(e){if(e)return new c(e,n._request)})})})}),u.prototype.createIndex=function(){return new s(this._store.createIndex.apply(this._store,arguments))},u.prototype.index=function(){return new s(this._store.index.apply(this._store,arguments))},r(u,"_store",["name","keyPath","indexNames","autoIncrement"]),o(u,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),a(u,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),i(u,"_store",IDBObjectStore,["deleteIndex"]),l.prototype.objectStore=function(){return new u(this._tx.objectStore.apply(this._tx,arguments))},r(l,"_tx",["objectStoreNames","mode"]),i(l,"_tx",IDBTransaction,["abort"]),f.prototype.createObjectStore=function(){return new u(this._db.createObjectStore.apply(this._db,arguments))},r(f,"_db",["name","version","objectStoreNames"]),i(f,"_db",IDBDatabase,["deleteObjectStore","close"]),d.prototype.transaction=function(){return new l(this._db.transaction.apply(this._db,arguments))},r(d,"_db",["name","version","objectStoreNames"]),i(d,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(e){[u,s].forEach(function(t){e in t.prototype&&(t.prototype[e.replace("open","iterate")]=function(){var t,n=(t=arguments,Array.prototype.slice.call(t)),r=n[n.length-1],o=this._store||this._index,i=o[e].apply(o,n.slice(0,-1));i.onsuccess=function(){r(i.result)}})})}),[s,u].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise(function(o){n.iterateCursor(e,function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():o(r)):o(r)})})})});var p={open:function(e,t,r){var o=n(indexedDB,"open",[e,t]),i=o.request;return i&&(i.onupgradeneeded=function(e){r&&r(new f(i.result,e.oldVersion,i.transaction))}),o.then(function(e){return new d(e)})},delete:function(e){return n(indexedDB,"deleteDatabase",[e])}};void 0!==t?(t.exports=p,t.exports.default=t.exports):self.idb=p}()},{}],104:[function(e,t,n){!function(e){"use strict";var n,r=Object.prototype,o=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag",u="object"==typeof t,l=e.regeneratorRuntime;if(l)u&&(t.exports=l);else{(l=e.regeneratorRuntime=u?t.exports:{}).wrap=b;var f="suspendedStart",d="suspendedYield",p="executing",h="completed",m={},v={};v[a]=function(){return this};var g=Object.getPrototypeOf,y=g&&g(g(R([])));y&&y!==r&&o.call(y,a)&&(v=y);var _=j.prototype=x.prototype=Object.create(v);k.prototype=_.constructor=j,j.constructor=k,j[c]=k.displayName="GeneratorFunction",l.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===k||"GeneratorFunction"===(t.displayName||t.name))},l.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,j):(e.__proto__=j,c in e||(e[c]="GeneratorFunction")),e.prototype=Object.create(_),e},l.awrap=function(e){return{__await:e}},S(E.prototype),E.prototype[s]=function(){return this},l.AsyncIterator=E,l.async=function(e,t,n,r){var o=new E(b(e,t,n,r));return l.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},S(_),_[c]="Generator",_[a]=function(){return this},_.toString=function(){return"[object Generator]"},l.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},l.values=R,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,o){return s.type="throw",s.arg=e,t.next=r,o&&(t.method="next",t.arg=n),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),u=o.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:R(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),m}}}function b(e,t,n,r){var o=t&&t.prototype instanceof x?t:x,i=Object.create(o.prototype),a=new O(r||[]);return i._invoke=function(e,t,n){var r=f;return function(o,i){if(r===p)throw new Error("Generator is already running");if(r===h){if("throw"===o)throw i;return M()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=L(a,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var c=w(e,t,n);if("normal"===c.type){if(r=n.done?h:d,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=h,n.method="throw",n.arg=c.arg)}}}(e,n,a),i}function w(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function x(){}function k(){}function j(){}function S(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function E(e){var t;this._invoke=function(n,r){function i(){return new Promise(function(t,i){!function t(n,r,i,a){var s=w(e[n],e,r);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==typeof u&&o.call(u,"__await")?Promise.resolve(u.__await).then(function(e){t("next",e,i,a)},function(e){t("throw",e,i,a)}):Promise.resolve(u).then(function(e){c.value=e,i(c)},function(e){return t("throw",e,i,a)})}a(s.arg)}(n,r,t,i)})}return t=t?t.then(i,i):i()}}function L(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,L(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var o=w(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,m;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,m):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function R(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(o.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return i.next=i}}return{next:M}}function M(){return{value:n,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())},{}],105:[function(e,t,n){var r,o;r=this,o=function(e){"use strict";var t={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};if(t.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],r=ArrayBuffer.isView||function(e){return e&&n.indexOf(Object.prototype.toString.call(e))>-1};function o(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function i(e){return"string"!=typeof e&&(e=String(e)),e}function a(e){var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t.iterable&&(n[Symbol.iterator]=function(){return n}),n}function s(e){this.map={},e instanceof s?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function c(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function u(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function l(e){var t=new FileReader,n=u(t);return t.readAsArrayBuffer(e),n}function f(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function d(){return this.bodyUsed=!1,this._initBody=function(e){var n;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:t.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:t.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():t.arrayBuffer&&t.blob&&((n=e)&&DataView.prototype.isPrototypeOf(n))?(this._bodyArrayBuffer=f(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):t.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||r(e))?this._bodyArrayBuffer=f(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},t.blob&&(this.blob=function(){var e=c(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?c(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(l)}),this.text=function(){var e,t,n,r=c(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=u(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},t.formData&&(this.formData=function(){return this.text().then(m)}),this.json=function(){return this.text().then(JSON.parse)},this}s.prototype.append=function(e,t){e=o(e),t=i(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},s.prototype.delete=function(e){delete this.map[o(e)]},s.prototype.get=function(e){return e=o(e),this.has(e)?this.map[e]:null},s.prototype.has=function(e){return this.map.hasOwnProperty(o(e))},s.prototype.set=function(e,t){this.map[o(e)]=i(t)},s.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},s.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),a(e)},s.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),a(e)},s.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),a(e)},t.iterable&&(s.prototype[Symbol.iterator]=s.prototype.entries);var p=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function h(e,t){var n,r,o=(t=t||{}).body;if(e instanceof h){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new s(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new s(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),p.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function m(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}}),t}function v(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new s(t.headers),this.url=t.url||"",this._initBody(e)}h.prototype.clone=function(){return new h(this,{body:this._bodyInit})},d.call(h.prototype),d.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new s(this.headers),url:this.url})},v.error=function(){var e=new v(null,{status:0,statusText:""});return e.type="error",e};var g=[301,302,303,307,308];v.redirect=function(e,t){if(-1===g.indexOf(t))throw new RangeError("Invalid status code");return new v(null,{status:t,headers:{location:e}})},e.DOMException=self.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function y(n,r){return new Promise(function(o,i){var a=new h(n,r);if(a.signal&&a.signal.aborted)return i(new e.DOMException("Aborted","AbortError"));var c=new XMLHttpRequest;function u(){c.abort()}c.onload=function(){var e,t,n={status:c.status,statusText:c.statusText,headers:(e=c.getAllResponseHeaders()||"",t=new s,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();t.append(r,o)}}),t)};n.url="responseURL"in c?c.responseURL:n.headers.get("X-Request-URL");var r="response"in c?c.response:c.responseText;o(new v(r,n))},c.onerror=function(){i(new TypeError("Network request failed"))},c.ontimeout=function(){i(new TypeError("Network request failed"))},c.onabort=function(){i(new e.DOMException("Aborted","AbortError"))},c.open(a.method,a.url,!0),"include"===a.credentials?c.withCredentials=!0:"omit"===a.credentials&&(c.withCredentials=!1),"responseType"in c&&t.blob&&(c.responseType="blob"),a.headers.forEach(function(e,t){c.setRequestHeader(t,e)}),a.signal&&(a.signal.addEventListener("abort",u),c.onreadystatechange=function(){4===c.readyState&&a.signal.removeEventListener("abort",u)}),c.send(void 0===a._bodyInit?null:a._bodyInit)})}y.polyfill=!0,self.fetch||(self.fetch=y,self.Headers=s,self.Request=h,self.Response=v),e.Headers=s,e.Request=h,e.Response=v,e.fetch=y,Object.defineProperty(e,"__esModule",{value:!0})},"object"==typeof n&&void 0!==t?o(n):"function"==typeof define&&define.amd?define(["exports"],o):o(r.WHATWGFetch={})},{}],106:[function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,e("core-js/modules/es6.object.assign");var o=new(function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),e.instance||(this.iconState=null,this.notifContainer=null,this.notifLauncher=null,this.message=null,this.dialog=null,this.pulseRing=null,this.messageText=null,this.notificationCircle=null,this.dialogHeadTitle=null,this.dialogBodyText=null,this.toggel=!1,this.btnClicked=!1,e.instance=this),e.instance}var t,n,o;return t=e,(n=[{key:"init",value:function(e){this.options=Object.assign({},{btnPosition:"right",btnWidth:"md",popupDialogImg:"https://onesignal.com/bell/chrome-unblock.jpg",popupDialogTextAllowed:"Follow these instructions to block notifications",popupDialogTextBlocked:"Follow these instructions to allow notifications",popupDialogTitleAllowed:"Block Notifications",popupDialogTitleBlocked:"Unblock Notifications",shortMessageIfAllowed:"You've autorise notifications",shortMessageIfBlocked:"You've blocked notifications",stateColorAllowed:"#4CAF50",stateColorBlocked:"#e54b4d"},e)}},{key:"checkNotifSupport",value:function(){return"Notification"in window||(console.info("Your browser doesn't support Notification"),!1)}},{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.checkNotifSupport()&&(this.init(e),this.injectHtml(),this.setVariablesDom(),this.setPermissionBtn(),this.eventClickBtn(),this.eventMouseBtn(),this.listenToChangePermission())}},{key:"setVariablesDom",value:function(){this.iconState=document.getElementById("notificationbtn-state"),this.notifContainer=document.getElementById("notificationbtn-bell-container"),this.notifLauncher=document.getElementById("notificationbtn-bell-launcher"),this.message=document.querySelector(".notificationbtn-bell-launcher-message"),this.dialog=document.querySelector(".notificationbtn-bell-launcher-dialog"),this.pulseRing=this.notifLauncher.querySelector(".pulse-ring"),this.messageText=document.querySelector(".notificationbtn-bell-launcher-message-body"),this.notificationCircle=document.getElementById("notification-circle"),this.dialogHeadTitle=this.dialog.querySelector(".dialoghead-title"),this.dialogBodyText=this.dialog.querySelector(".dialogbody-text")}},{key:"eventMouseBtn",value:function(){var e=this;this.notifLauncher.addEventListener("mouseover",function(){e.message.classList.add("notificationbtn-bell-launcher-message-opened")}),this.notifLauncher.addEventListener("mouseout",function(){e.message.classList.remove("notificationbtn-bell-launcher-message-opened")})}},{key:"eventClickBtn",value:function(){var e=this;this.notifLauncher.addEventListener("click",function(){e.triggerPermission(),!1===e.toggel?e.dialog.classList.add("notificationbtn-bell-launcher-dialog-opened"):e.dialog.classList.remove("notificationbtn-bell-launcher-dialog-opened"),e.btnClicked=!0,e.toggel=!e.toggel,e.pulseRing.classList.remove("pulse-ring-animation"),e.pulseRing.offsetWidth,e.pulseRing.classList.add("pulse-ring-animation")}),window.addEventListener("click",function(t){!0!==e.btnClicked?!0===e.toggel&&(e.dialog.classList.remove("notificationbtn-bell-launcher-dialog-opened"),e.toggel=!e.toggel):e.btnClicked=!1})}},{key:"listenToChangePermission",value:function(){var e=this;"permissions"in navigator&&navigator.permissions.query({name:"notifications"}).then(function(t){t.onchange=function(){"granted"===t.state?e.permissionAllowedState():e.permissionBlockedState()}})}},{key:"permissionAllowedState",value:function(){this.notificationCircle.style.fill=this.options.stateColorAllowed,this.dialogHeadTitle.style.color=this.options.stateColorBlocked,this.messageText.innerHTML=this.options.shortMessageIfAllowed,this.dialogHeadTitle.innerHTML=this.options.popupDialogTitleAllowed,this.dialogBodyText.innerHTML=this.options.popupDialogTextAllowed,this.iconState.style.visibility="hidden"}},{key:"permissionBlockedState",value:function(){this.notificationCircle.style.fill=this.options.stateColorBlocked,this.dialogHeadTitle.style.color=this.options.stateColorAllowed,this.messageText.innerHTML=this.options.shortMessageIfBlocked,this.dialogHeadTitle.innerHTML=this.options.popupDialogTitleBlocked,this.dialogBodyText.innerHTML=this.options.popupDialogTextBlocked,this.iconState.style.visibility="visible"}},{key:"setPermissionBtn",value:function(){var e=window.Notification||window.mozNotification||window.webkitNotification;"granted"===e.permission?this.permissionAllowedState():"denied"!==e.permission&&"default"!==e.permission||this.permissionBlockedState()}},{key:"triggerPermission",value:function(){"denied"!==Notification.permission&&"default"!==Notification.permission||Notification.requestPermission()}},{key:"injectHtml",value:function(){var e='\n            <div id="notificationbtn-bell-container" class="notificationbtn-bell-container notificationbtn-reset notificationbtn-bell-container-bottom-'.concat(this.options.btnPosition,'">\n                <div id="notificationbtn-bell-launcher" class="notificationbtn-bell-launcher notificationbtn-bell-launcher-').concat(this.options.btnWidth," notificationbtn-bell-launcher-bottom-").concat(this.options.btnPosition,' notificationbtn-bell-launcher-theme-default notificationbtn-bell-launcher-active">\n                    <div class="notificationbtn-bell-launcher-button">\n                        <svg class="notificationbtn-bell-svg" xmlns="http://www.w3.org/2000/svg" width="99.7" height="99.7" viewBox="0 0 99.7 99.7" style="filter: drop-shadow(0 2px 4px rgba(34,36,38,0.35));; -webkit-filter: drop-shadow(0 2px 4px rgba(34,36,38,0.35));;">\n                            <circle class="background" cx="49.9" cy="49.9" r="49.9" id="notification-circle"></circle>\n                            <line class="stroke" id="notificationbtn-state" y2="80" x2="15" y1="15" x1="80" stroke-width="4" stroke="#fff" fill="none" />\n                            <path class="foreground" d="M50.1 66.2H27.7s-2-.2-2-2.1c0-1.9 1.7-2 1.7-2s6.7-3.2 6.7-5.5S33 52.7 33 43.3s6-16.6 13.2-16.6c0 0 1-2.4 3.9-2.4 2.8 0 3.8 2.4 3.8 2.4 7.2 0 13.2 7.2 13.2 16.6s-1 11-1 13.3c0 2.3 6.7 5.5 6.7 5.5s1.7.1 1.7 2c0 1.8-2.1 2.1-2.1 2.1H50.1zm-7.2 2.3h14.5s-1 6.3-7.2 6.3-7.3-6.3-7.3-6.3z" ></path>\n                            <ellipse class="stroke" cx="49.9" cy="49.9" rx="37.4" ry="36.9"></ellipse>\n                        </svg>\n                        <div class="pulse-ring"></div>\n                    </div>\n                    <div class="notificationbtn-bell-launcher-badge"></div>\n                    <div class="notificationbtn-bell-launcher-message">\n\t\t\t\t\t\t<div class="notificationbtn-bell-launcher-message-body">\n\t\t\t\t\t\t\t').concat(this.options.shortMessageIfBlocked,'\n\t\t\t\t\t\t</div>\n                    </div>\n                    <div class="notificationbtn-bell-launcher-dialog">\n                        <div class="notificationbtn-bell-launcher-dialog-body">\n\t\t\t\t\t\t\t<h1 class="dialoghead-title">\n\t\t\t\t\t\t\t\t').concat(this.options.popupDialogTitleBlocked,'\n\t\t\t\t\t\t\t</h1>\n                            <div class="divider"></div>\n                            <div class="instructions">\n\t\t\t\t\t\t\t\t<p class="dialogbody-text">\n\t\t\t\t\t\t\t\t\t').concat(this.options.popupDialogTextBlocked,'\n\t\t\t\t\t\t\t\t</p>\n                                <a href="').concat(this.options.popupDialogImg,'" target="_blank" rel="noopener">\n                                    <img src="').concat(this.options.popupDialogImg,'" alt="instructions">\n                                </a>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>'),t=(new DOMParser).parseFromString(e,"text/html");document.body.append(t.getElementById("notificationbtn-bell-container"))}}])&&r(t.prototype,n),o&&r(t,o),e}());n.default=o},{"core-js/modules/es6.object.assign":89}],107:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,e("core-js/modules/es6.object.assign"),e("core-js/modules/es6.function.name"),e("core-js/modules/web.dom.iterable"),e("core-js/modules/es6.array.iterator"),e("core-js/modules/es6.object.keys"),e("core-js/modules/es6.string.includes"),e("core-js/modules/es6.promise"),e("core-js/modules/es7.array.includes"),e("regenerator-runtime/runtime");var r=i(e("../../tokens")),o=i(e("./idbHelper"));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function s(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function s(e){a(i,r,o,s,c,"next",e)}function c(e){a(i,r,o,s,c,"throw",e)}s(void 0)})}}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.idbHelper=new o.default,this.fetchRestaurantsData=null}var t,n,i;return t=e,(n=[{key:"getDbUrl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat("https://mnaz-restaurant-reviews-api.herokuapp.com","/").concat(e)}},{key:"fetchMAPBOXToken",value:function(){return r.default.MAPBOX_TOKEN}},{key:"fetchAndGetJsonData",value:function(){var e=s(regeneratorRuntime.mark(function e(t){var n,r,o,i,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},e.prev=1,e.next=4,fetch(t,n);case 4:if(r=e.sent,![200,201,302].includes(r.status)){e.next=14;break}return o=null,i=r.json(),e.next=11,i.then(function(e){o=e});case 11:return e.abrupt("return",o);case 14:throw r.status;case 15:e.next=20;break;case 17:return e.prev=17,e.t0=e.catch(1),e.abrupt("return",Promise.reject(e.t0));case 20:case"end":return e.stop()}},e,this,[[1,17]])}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchRestaurants",value:function(){var e=s(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!this.fetchRestaurantsData){e.next=3;break}return e.abrupt("return",this.fetchRestaurantsData);case 3:return e.next=5,this.fetchAndGetJsonData(this.getDbUrl("restaurants"));case 5:return t=e.sent,this.fetchRestaurantsData=t,this.idbHelper.saveDataToIdb(t,"restaurants"),e.abrupt("return",t);case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 14:case"end":return e.stop()}},e,this,[[0,11]])}));return function(){return e.apply(this,arguments)}}()},{key:"updateInmemoryRestaurantsData",value:function(){var e=s(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.fetchAndGetJsonData(this.getDbUrl("restaurants"));case 3:return t=e.sent,this.fetchRestaurantsData=t,e.abrupt("return",t);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(){return e.apply(this,arguments)}}()},{key:"fetchRestaurantById",value:function(){var e=s(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.fetchAndGetJsonData(this.getDbUrl("restaurants/".concat(t)));case 3:if(0!==(n=e.sent).length&&0!==Object.keys(n).length){e.next=6;break}throw 404;case 6:return this.idbHelper.saveDataToIdb(n,"restaurants"),e.abrupt("return",n);case 10:if(e.prev=10,e.t0=e.catch(0),404!==e.t0){e.next=14;break}return e.abrupt("return",Promise.reject("No restaurant found"));case 14:return e.abrupt("return",Promise.reject(e.t0));case 15:case"end":return e.stop()}},e,this,[[0,10]])}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchRestaurantByCuisine",value:function(){var e=s(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.fetchRestaurants();case 3:return n=e.sent,e.abrupt("return",n.filter(function(e){return e.cuisine_type==t}));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchRestaurantByNeighborhood",value:function(){var e=s(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.fetchRestaurants();case 3:return n=e.sent,e.abrupt("return",n.filter(function(e){return e.neighborhood==t}));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchRestaurantByCuisineAndNeighborhood",value:function(){var e=s(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.fetchRestaurants();case 3:return r=e.sent,"all"!=t&&(r=r.filter(function(e){return e.cuisine_type==t})),"all"!=n&&(r=r.filter(function(e){return e.neighborhood==n})),e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 12:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchNeighborhoods",value:function(){var e=s(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.fetchRestaurants();case 3:return t=e.sent,n=t.map(function(e,n){return t[n].neighborhood}),e.abrupt("return",n.filter(function(e,t){return n.indexOf(e)==t}));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(){return e.apply(this,arguments)}}()},{key:"fetchCuisines",value:function(){var e=s(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.fetchRestaurants();case 3:return t=e.sent,n=t.map(function(e,n){return t[n].cuisine_type}),e.abrupt("return",n.filter(function(e,t){return n.indexOf(e)==t}));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(){return e.apply(this,arguments)}}()},{key:"urlForRestaurant",value:function(e){return"./restaurant.html?id=".concat(e.id)}},{key:"imageUrlForRestaurant",value:function(e){return"/img/".concat(e.photograph)}},{key:"srcsetImageUrlForRestaurant",value:function(e){return e.srcset_restaurant}},{key:"srcsetImageUrlForIndex",value:function(e){return e.srcset_index}},{key:"mapMarkerForRestaurant",value:function(e,t){var n=new L.marker([e.latlng.lat,e.latlng.lng],{title:e.name,alt:"Localisation of ".concat(e.name," restaurant"),url:this.urlForRestaurant(e),id:"marker-".concat(e.id)});return n.addTo(t),n}},{key:"fetchReviewsByRestaurantId",value:function(){var e=s(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.fetchAndGetJsonData(this.getDbUrl("reviews/?restaurant_id=".concat(t)));case 3:return n=e.sent,this.idbHelper.saveDataToIdb(n,"reviews"),e.abrupt("return",n);case 8:if(e.prev=8,e.t0=e.catch(0),404!==e.t0){e.next=12;break}return e.abrupt("return",Promise.reject("No reviews found"));case 12:return e.abrupt("return",Promise.reject(e.t0));case 13:case"end":return e.stop()}},e,this,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()},{key:"updateLocalRestaurantData",value:function(e,t){if(null!==this.fetchRestaurantsData)return this.fetchRestaurantsData=this.fetchRestaurantsData.map(function(n){return n.id===e?Object.assign(n,t):n})}},{key:"toggleFavoriteRestaurant",value:function(){var e=s(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={method:"PUT",body:JSON.stringify({is_favorite:n}),headers:{"Content-Type":"application/json"}},e.next=4,this.fetchAndGetJsonData(this.getDbUrl("restaurants/".concat(t,"/")),r);case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject("rollback"));case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t,n){return e.apply(this,arguments)}}()},{key:"postReview",value:function(){var e=s(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Object.assign({},{method:"POST",headers:{"Content-Type":"application/json"}},t),e.next=4,this.fetchAndGetJsonData(this.getDbUrl("reviews/"),n);case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()}])&&c(t.prototype,n),i&&c(t,i),e}();n.default=u},{"../../tokens":112,"./idbHelper":109,"core-js/modules/es6.array.iterator":87,"core-js/modules/es6.function.name":88,"core-js/modules/es6.object.assign":89,"core-js/modules/es6.object.keys":90,"core-js/modules/es6.promise":91,"core-js/modules/es6.string.includes":97,"core-js/modules/es7.array.includes":100,"core-js/modules/web.dom.iterable":102,"regenerator-runtime/runtime":104}],108:[function(e,t,n){"use strict";function r(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}Object.defineProperty(n,"__esModule",{value:!0}),n.showMainContent=function(){document.getElementById("maincontent").classList.remove("visibility-hidden"),document.getElementById("footer").classList.remove("fixed-bottom"),document.querySelector(".loader-container").setAttribute("hidden",!0)},n.getParameterByName=function(e,t){t||(t=window.location.href);e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]".concat(e,"(=([^&#]*)|&|#|$)")).exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null},n.appendPolyfill=function(){return e=[Element.prototype,Document.prototype,DocumentFragment.prototype],void e.forEach(function(e){e.hasOwnProperty("append")||Object.defineProperty(e,"append",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=Array.prototype.slice.call(arguments),t=document.createDocumentFragment();e.forEach(function(e){var n=e instanceof Node;t.appendChild(n?e:document.createTextNode(String(e)))}),this.appendChild(t)}})});var e},n.polyfillIe11NodelistForeach=function(){"NodeList"in window&&!NodeList.prototype.forEach&&(console.info("polyfill for IE11"),NodeList.prototype.forEach=function(e,t){t=t||window;for(var n=0;n<this.length;n++)e.call(t,this[n],n,this)})},n.addToDocTitle=function(e){document.title=e+" | "+document.title},n.default=n.favoriteClickListener=n.favoriteOnClick=void 0,e("core-js/modules/es6.promise"),e("core-js/modules/web.dom.iterable"),e("core-js/modules/es6.regexp.constructor"),e("core-js/modules/es6.regexp.to-string"),e("core-js/modules/es6.regexp.replace"),e("regenerator-runtime/runtime");var o=function(){var e,t=(e=regeneratorRuntime.mark(function e(t,n){var r,o,i,a,s,c,u,l,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(r=n.target).disabled=!0,o="favorite-icon",i=parseInt(r.id.replace("fav-","")),a=!!r.classList.contains("".concat(o,"--on")),s=!0===a?"on":"off",c=!a,u="".concat(o,"--").concat(s),l="".concat(o,"--").concat(!0===c?"on":"off"),r.classList.remove(u),r.classList.add(l),r.setAttribute("aria-checked",c),e.prev=12,e.next=15,t.toggleFavoriteRestaurant(i,c);case 15:(f=e.sent).is_favorite.toString()!==c.toString()&&(r.classList.remove("".concat(o,"--on"),"".concat(o,"--off")),r.classList.add("".concat(o,"--").concat("true"===f.is_favorite.toString()?"on":"off")),r.setAttribute("aria-checked",f.is_favorite)),t.updateLocalRestaurantData(i,{is_favorite:f.is_favorite}),e.next=26;break;case 20:e.prev=20,e.t0=e.catch(12),console.log(e.t0),r.classList.remove("".concat(o,"--on"),"".concat(o,"--off")),r.classList.add("".concat(o,"--").concat(s)),r.setAttribute("aria-checked",a);case 26:return e.prev=26,r.disabled=!1,e.finish(26);case 29:case"end":return e.stop()}},e,this,[[12,20,26,29]])}),function(){var t=this,n=arguments;return new Promise(function(o,i){var a=e.apply(t,n);function s(e){r(a,o,i,s,c,"next",e)}function c(e){r(a,o,i,s,c,"throw",e)}s(void 0)})});return function(e,n){return t.apply(this,arguments)}}();n.favoriteOnClick=o;function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"linear",r=arguments.length>3?arguments[3]:void 0,o={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:(4-2*e)*e-1},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}},i=window.pageYOffset,a="now"in window.performance?performance.now():(new Date).getTime(),s=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight),c=window.innerHeight||document.documentElement.clientHeight||document.getElementsByTagName("body")[0].clientHeight,u="number"==typeof e?e:e.offsetTop,l=Math.round(s-u<c?s-c:u);if("requestAnimationFrame"in window==!1)return window.scroll(0,l),void(r&&r());!function e(){var s="now"in window.performance?performance.now():(new Date).getTime(),c=Math.min(1,(s-a)/t),u=o[n](c);window.scroll(0,Math.ceil(u*(l-i)+i)),window.pageYOffset!==l?requestAnimationFrame(e):r&&r()}()}n.favoriteClickListener=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;(null!==t?t:document.querySelector(".favorite-icon")).addEventListener("click",function(t){t.target.classList.contains("favorite-icon")&&o(e,t)})};var a=void window.addEventListener("load",function(){var e;!function(){var e=document.getElementById("about-modal"),t=document.getElementById("about-modal-container"),n=document.getElementById("open-about-model"),r=document.getElementById("close-about-model");function o(){if("none"!==e.style.display){var n=window.innerWidth,r=t.offsetWidth,o=(parseInt(n)-parseInt(r))/2;t.style.right="".concat(o,"px")}}function i(){e.style.display="block",o()}null===localStorage.getItem("firstVisite")&&(localStorage.setItem("firstVisite",!0),i()),n.onclick=function(){i()},window.onresize=function(){o()},r.onclick=function(){e.style.display="none"},window.onclick=function(t){t.target==e&&(e.style.display="none")}}(),null!==(e=document.querySelector(".scroll-to-top"))&&e.addEventListener("click",function(){return i(0)}),function(){var e=document.querySelector(".scroll-to-add-review"),t=document.getElementById("add-reviews-container");null!==e&&null!==t&&e.addEventListener("click",function(){return i(t.offsetTop)})}(),function(){var e=document.getElementById("toggle-display-header");if(null!==e){var t=e.offsetHeight,n=0;window.addEventListener("scroll",function(){window.matchMedia("(max-width: 768px)").matches&&(window.pageYOffset>t&&e.classList.add("hide-header"),window.pageYOffset<n&&e.classList.remove("hide-header"),n=window.pageYOffset)})}}(),function(){if(window.matchMedia("(max-width: 768px)").matches){var e=document.querySelector(".btn-scroll-to-filter"),t=document.querySelector(".filter-options");if(null!==e&&null!==t){var n=t.offsetTop;e.addEventListener("click",function(){return i(n)}),r("load"),window.addEventListener("scroll",r)}}function r(){var t=null;(t="load"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"scroll")?window.pageYOffset+window.innerHeight-e.offsetHeight/2:window.pageYOffset+window.innerHeight+e.offsetHeight/2)>=n?e.classList.remove("btn-scroll-to-filter--fixed"):t<n&&e.classList.add("btn-scroll-to-filter--fixed")}}()});n.default=a},{"core-js/modules/es6.promise":91,"core-js/modules/es6.regexp.constructor":92,"core-js/modules/es6.regexp.replace":95,"core-js/modules/es6.regexp.to-string":96,"core-js/modules/web.dom.iterable":102,"regenerator-runtime/runtime":104}],109:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,e("core-js/modules/es7.symbol.async-iterator"),e("core-js/modules/es6.symbol"),e("core-js/modules/web.dom.iterable"),e("regenerator-runtime/runtime"),e("core-js/modules/es6.promise");var r,o=(r=e("idb"))&&r.__esModule?r:{default:r};function i(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function s(e){i(a,r,o,s,c,"next",e)}function c(e){i(a,r,o,s,c,"throw",e)}s(void 0)})}}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.idbPromise=this.openDatabase()}var t,n,r;return t=e,(n=[{key:"openDatabase",value:function(){return navigator.serviceWorker?o.default.open("restaurant-store",2,function(e){switch(e.oldVersion){case 0:e.createObjectStore("restaurants",{keyPath:"id"}),e.createObjectStore("reviews",{keyPath:"id"}),e.createObjectStore("requests",{keyPath:"id"}),e.createObjectStore("post-requests",{keyPath:"id"});case 1:e.transaction.objectStore("reviews").createIndex("restaurant_id","restaurant_id")}}):Promise.resolve()}},{key:"saveDataToIdb",value:function(){var e=a(regeneratorRuntime.mark(function e(t,n){var r,o,i,a,s,c,u,l,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("serviceWorker"in navigator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.isDataDbEmpty(n);case 4:if(!e.sent){e.next=43;break}return e.prev=6,e.next=9,this.idbPromise;case 9:if(r=e.sent){e.next=12;break}throw"DB undefined";case 12:if(o=r.transaction(n,"readwrite"),i=o.objectStore(n),!Array.isArray(t)){e.next=36;break}for(a=!0,s=!1,c=void 0,e.prev=18,u=t[Symbol.iterator]();!(a=(l=u.next()).done);a=!0)f=l.value,i.put(f);e.next=26;break;case 22:e.prev=22,e.t0=e.catch(18),s=!0,c=e.t0;case 26:e.prev=26,e.prev=27,a||null==u.return||u.return();case 29:if(e.prev=29,!s){e.next=32;break}throw c;case 32:return e.finish(29);case 33:return e.finish(26);case 34:e.next=37;break;case 36:i.put(t);case 37:return e.abrupt("return",o.complete);case 40:e.prev=40,e.t1=e.catch(6),console.log("idb error: ",e.t1);case 43:case"end":return e.stop()}},e,this,[[6,40],[18,22,26,34],[27,,29,33]])}));return function(t,n){return e.apply(this,arguments)}}()},{key:"isDataDbEmpty",value:function(){var e=a(regeneratorRuntime.mark(function e(t){var n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.idbPromise;case 3:if(n=e.sent){e.next=6;break}throw"DB undefined";case 6:return r=n.transaction(t),o=r.objectStore(t),e.abrupt("return",o.count().then(function(e){return 0===e}).catch(function(e){return console.log(e)}));case 11:e.prev=11,e.t0=e.catch(0),console.log("idb error: ",e.t0);case 14:case"end":return e.stop()}},e,this,[[0,11]])}));return function(t){return e.apply(this,arguments)}}()}])&&s(t.prototype,n),r&&s(t,r),e}();n.default=c},{"core-js/modules/es6.promise":91,"core-js/modules/es6.symbol":99,"core-js/modules/es7.symbol.async-iterator":101,"core-js/modules/web.dom.iterable":102,idb:103,"regenerator-runtime/runtime":104}],110:[function(e,t,n){"use strict";e("core-js/modules/es6.regexp.to-string"),e("core-js/modules/web.dom.iterable"),e("core-js/modules/es6.string.iterator"),e("core-js/modules/es6.array.from"),e("core-js/modules/es6.promise"),e("core-js/modules/es6.function.name"),e("regenerator-runtime/runtime");var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(e("./functions")),o=s(e("./dbhelper")),i=s(e("./sw-registration")),a=s(e("./Notificationbtn"));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function u(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){c(i,r,o,a,s,"next",e)}function s(e){c(i,r,o,a,s,"throw",e)}a(void 0)})}}e("whatwg-fetch");var l={restaurantId:null,currentMarker:null,swRegConfig:{},postDelay:!1},f={init:function(){var e=this;this.dbHelper=new o.default,d.init(),document.addEventListener("DOMContentLoaded",function(){e.fillContent(),e.swRegistration(),setTimeout(function(){a.default.create()},2e3)})},swRegistration:function(){var e=u(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.default.fire(l.swRegConfig);case 3:this.listenerForSwMsg(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}},e,this,[[0,6]])}));return function(){return e.apply(this,arguments)}}(),listenerForSwMsg:function(){var e=this;navigator.serviceWorker.addEventListener("message",function(t){"updateContent"===t.data&&(e.fillContent(),i.default.showMsg("Content Updated"))})},fillContent:function(){this.fillRestaurantContent(),this.fillReviewsContent(),r.favoriteClickListener(this.dbHelper),this.checkedRatingListener(),this.submitReviewListener()},fillRestaurantContent:function(){var e=u(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.fetchRestaurantFromURL();case 3:t=e.sent,this.initMap(t),d.fillBreadcrumb(t.name),r.addToDocTitle(t.name),d.fillRestaurantHTML(t),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),d.showMsgInMainContent(e.t0);case 13:return e.prev=13,r.showMainContent(),e.finish(13);case 16:case"end":return e.stop()}},e,this,[[0,10,13,16]])}));return function(){return e.apply(this,arguments)}}(),fillReviewsContent:function(){var e=u(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.fetchReviewsFromURL();case 3:(t=e.sent)&&d.fillReviewsHTML(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),initMap:function(e){if("undefined"!=typeof L){var t=L.DomUtil.get("map");null!==t&&(t._leaflet_id=null),null!==l.currentMarker&&l.currentMarker.remove();var n=L.map("map",{center:[e.latlng.lat,e.latlng.lng],zoom:16,scrollWheelZoom:!1});L.tileLayer("https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.jpg70?access_token={mapboxToken}",{mapboxToken:this.dbHelper.fetchMAPBOXToken(),maxZoom:18,attribution:'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',id:"mapbox.streets"}).addTo(n),l.currentMarker=this.dbHelper.mapMarkerForRestaurant(e,n)}},fetchRestaurantFromURL:function(){var e=u(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.getParameterByName("id")){e.next=5;break}return e.abrupt("return",Promise.reject("No restaurant id in URL"));case 5:return e.prev=5,e.next=8,this.dbHelper.fetchRestaurantById(t);case 8:return n=e.sent,l.restaurantId=n.id,e.abrupt("return",n);case 13:return e.prev=13,e.t0=e.catch(5),e.abrupt("return",Promise.reject(e.t0));case 16:case"end":return e.stop()}},e,this,[[5,13]])}));return function(){return e.apply(this,arguments)}}(),fetchReviewsFromURL:function(){var e=u(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.getParameterByName("id")){e.next=5;break}return e.abrupt("return",Promise.reject("No restaurant id in URL"));case 5:return e.prev=5,e.next=8,this.dbHelper.fetchReviewsByRestaurantId(t);case 8:return e.abrupt("return",e.sent);case 11:return e.prev=11,e.t0=e.catch(5),e.abrupt("return",Promise.reject(e.t0));case 14:case"end":return e.stop()}},e,this,[[5,11]])}));return function(){return e.apply(this,arguments)}}(),checkedRatingListener:function(){var e=document.querySelectorAll('#frating input[name="rating"]');0!==e.length&&Array.from(e).map(function(e){e.addEventListener("click",function(){this.checked=!0})})},submitReviewListener:function(){var e=this;document.getElementById("form-review").addEventListener("submit",function(t){return t.preventDefault(),t.stopImmediatePropagation(),e.postReview(),!1})},postReview:function(){var e=u(regeneratorRuntime.mark(function e(){var t,n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==l.postDelay){e.next=3;break}return d.showFormValidationMsg("Please, avoid successive reviews"),e.abrupt("return");case 3:if(t=null,""===d.getNameValue()?t="Please, fill in the filed 'Name',it is required":d.getNameValue().length>20?t="The maximum characters allowed for the field 'Name' is 20":1===d.getNameValue().length&&(t="Please, enter your real name, I do not think your name is One-Letter Name :)"),""===d.getCommentValue()?t="Please, fill in the filed 'Review',it is required":d.getCommentValue().length<20?t="Please, describe your opinion more, the minimum characters allowed for the field 'Review' is 20":d.getCommentValue().length>500&&(t="Please, summarize your opinion more, the maximum characters allowed for the field 'Review' is 500"),null===t){e.next=9;break}return d.showFormValidationMsg(t),e.abrupt("return");case 9:return n={restaurant_id:l.restaurantId,name:d.getNameValue(),rating:d.getRatingValue(),comments:d.getCommentValue()},!1===navigator.onLine&&(n.storageLocal="Stored locally"),r={body:JSON.stringify(n)},!1===navigator.onLine&&(r.mode="no-cors"),e.prev=13,e.next=16,this.dbHelper.postReview(r);case 16:o=e.sent,d.createNewReview(o),d.initReviewForm(),l.postDelay=!0,setTimeout(function(){l.postDelay=!1},2e4),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(13),console.log(e.t0);case 26:case"end":return e.stop()}},e,this,[[13,23]])}));return function(){return e.apply(this,arguments)}}()},d={init:function(){this.reviewsList=document.getElementById("reviews-list"),this.fname=document.getElementById("fname"),this.rating=document.getElementsByName("rating"),this.fcomment=document.getElementById("fcomment"),this.ratingRadioList=document.querySelectorAll('#frating input[name="rating"]'),this.formValidationMsg=document.getElementById("validattion-message")},initReviewForm:function(){this.fname.value="",this.rating[4].checked=!0,this.fcomment.value="",this.hideFormValidationMsg()},showFormValidationMsg:function(e){this.formValidationMsg.innerHTML=e,this.formValidationMsg.style.display="block"},hideFormValidationMsg:function(){this.formValidationMsg.style.display="none",this.formValidationMsg.innerHTML=""},getRatingValue:function(){var e;return r.polyfillIe11NodelistForeach(),this.ratingRadioList.forEach(function(t){t.checked&&(e=t.value)}),e},getCommentValue:function(){return this.fcomment.value.trim()},getNameValue:function(){return this.fname.value.trim()},createNewReview:function(e){this.reviewsList.appendChild(this.createReviewHTML(e))},fillRestaurantHTML:function(e){document.getElementById("restaurant-name").innerHTML=e.name,document.getElementById("restaurant-address").innerHTML=e.address;var t=document.getElementById("restaurant-img");t.setAttribute("alt",e.name),t.className="restaurant-img",t.setAttribute("src",f.dbHelper.imageUrlForRestaurant(e)),t.setAttribute("srcset",f.dbHelper.srcsetImageUrlForRestaurant(e)),t.setAttribute("data-sizes","(max-width: 380px) 300px, (max-width: 480px) 400px, (max-width: 680px) 600px, (max-width: 768px) 800px, (max-width: 960px) 400px, (max-width: 1360px) 600px");var n=document.querySelector(".".concat("favorite-icon")),r="true"===e.is_favorite.toString();n.setAttribute("aria-checked",r),n.setAttribute("id","fav-".concat(e.id)),n.classList.remove("".concat("favorite-icon","--on"),"".concat("favorite-icon","--off")),n.classList.add("".concat("favorite-icon","--").concat(r?"on":"off")),document.getElementById("restaurant-cuisine").innerHTML=e.cuisine_type,e.operating_hours&&this.fillRestaurantHoursHTML(e.operating_hours)},fillRestaurantHoursHTML:function(e){var t=document.getElementById("restaurant-hours");for(var n in t.innerHTML="",e){var r=document.createElement("tr");r.setAttribute("tabindex","0");var o=document.createElement("td");o.innerHTML=n,r.appendChild(o);var i=document.createElement("td");i.innerHTML=e[n],r.appendChild(i),t.appendChild(r)}},hideReviewsSectionLoading:function(){document.querySelector(".loader-content-container").setAttribute("hidden",!0)},fillReviewsHTML:function(e){var t=this,n=document.getElementById("reviews-container");if(n){var r=document.getElementById("reviews-list");if(r){if(r.innerHTML="",0===e.length||!e){var o=document.createElement("p"),i=!1===navigator.onLine?"No reviews available offline. You can post offline ,your reviews will saved offline & auto-submit when you're online":"No reviews yet. Be the first one to write a review.";return o.innerHTML=i,o.id="reviewsMsgContainer",n.appendChild(o),n.appendChild(r),void this.hideReviewsSectionLoading()}if(e.length>1){var a=document.createDocumentFragment();e.map(function(e){a.appendChild(t.createReviewHTML(e))}),r.appendChild(a)}else r.appendChild(this.createReviewHTML(e));n.appendChild(r),this.hideReviewsSectionLoading()}}},createReviewHTML:function(e){var t=document.getElementById("reviewsMsgContainer");if(!1===navigator.onLine&&null!==t){t.innerHTML="You can post offline ,your reviews will saved offline & auto-submit when you're online"}var n=document.createElement("li");n.classList.add("fadein"),n.setAttribute("tabindex","0");var r=document.createElement("div");r.className="review-header";var o=document.createElement("p");o.setAttribute("tabindex","0"),o.innerHTML=e.name,o.className="name",r.appendChild(o);var i=document.createElement("p");i.innerHTML=e.updatedAt?new Date(e.updatedAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):e.storageLocal,i.className="date",r.appendChild(i),n.appendChild(r);var a=document.createElement("div");a.className="rating";for(var s=1;s<=5;s++){var c=document.createElement("span");c.innerHTML=e.rating>=s?"â":"â",c.className=e.rating>=s?"icon--active":"icon",a.appendChild(c)}n.appendChild(a);var u=document.createElement("p");return u.innerHTML=e.comments,u.className="comment",n.appendChild(u),n},fillBreadcrumb:function(e){var t=document.getElementById("current-page-name");if(null===t){var n=document.getElementById("breadcrumb"),r=document.createElement("li");r.id="current-page-name",r.innerHTML=e,n.appendChild(r)}else t.innerHTML!==e&&(t.innerHTML=e)},showMsgInMainContent:function(e){document.getElementById("maincontent").innerHTML='<section class="maincontent-msg"><h1>'.concat(e,"</h1></section>")}};f.init()},{"./Notificationbtn":106,"./dbhelper":107,"./functions":108,"./sw-registration":111,"core-js/modules/es6.array.from":86,"core-js/modules/es6.function.name":88,"core-js/modules/es6.promise":91,"core-js/modules/es6.regexp.to-string":96,"core-js/modules/es6.string.iterator":98,"core-js/modules/web.dom.iterable":102,"regenerator-runtime/runtime":104,"whatwg-fetch":105}],111:[function(e,t,n){"use strict";function r(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,e("regenerator-runtime/runtime"),e("core-js/modules/es6.regexp.replace"),e("core-js/modules/es6.promise"),e("core-js/modules/es6.object.assign");var i=new(function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),e.instance||(this._refreshing=!1,this._isOffline=!1,this._timeoutMsg=null,this._msgHolder=null,this._deferredPrompt=null,this._config={swUrl:"sw/service-worker.js",msgSwInstalled:"Service Worker installed! Pages you view are cached for offline use.",msgOffline:"You're currently offline",msgOnline:'You\'re back online <a href="javascript:location.reload()">refresh</a>',msgWhenUpdate:'The contents of this page have been updated. Please <a href="javascript:location.reload()">reload</a>',msgAndroidA2HSPrompt:"Add to the home screen",installBtnText:"Install",laterBtnText:"Later",msgIosA2HSPrompt:"To install this site on your iPhone / iPad, press share <shareImgHtml>, then on <addHomeScreenImgHtml> add to the home screen.",msgToShowWhenAppInstalled:"Thank you for installing our app!",askUserWhenSwUpdated:!0,msgSync:"Your submit is saved and will auto-submit when you're online",classIdBtnSwUpdate:"btn-updatesw",msgWhenSwUpdated:'New version available online. Do you want to update? <button class="classIdBtnSwUpdate" id="classIdBtnSwUpdate">Yes</button>',preCache:"precacheConfig",msgSWUnsupported:"Your browser does not support serviceworker. the app will not be available offline."},e.instance=this),e.instance}var t,n,i;return t=e,(n=[{key:"initConfig",value:function(e){this._config=Object.assign(this._config,e)}},{key:"serviceWorkerRegistration",value:function(){var e=this;return navigator.serviceWorker?("onReload"===this._config.preCache&&navigator.serviceWorker.addEventListener("controllerchange",function(){e._refreshing||(window.location.reload(),e._refreshing=!0)}),navigator.serviceWorker.register(this._config.swUrl,{scope:"/"}).then(function(t){return console.log("Service Worker Registered"),console.log("MNPWA service worker ready"),navigator.serviceWorker.controller?t.waiting?(e.updateReady(t.waiting),Promise.resolve()):t.installing?(e.trackingprogressInstalled(t.installing),Promise.resolve()):void t.addEventListener("updatefound",function(){e.trackingprogressInstalled(t.installing)}):(console.log("Service Worker installed"),e.showMsg(e._config.msgSwInstalled),Promise.resolve())}).catch(function(e){return console.log("Service worker not registered: ",e)})):Promise.resolve()}},{key:"updateReady",value:function(e){if(this._config.askUserWhenSwUpdated)return this.showMsg(this._config.msgWhenSwUpdated.replace(/classIdBtnSwUpdate/g,this._config.classIdBtnSwUpdate),null),void document.getElementById(this._config.classIdBtnSwUpdate).addEventListener("click",(t=this,function(){t.updateSW(e),t.hideMsg(),"onReload"!==t._config.preCache&&window.location.reload()}));var t;this.updateSW(e)}},{key:"updateSW",value:function(e){e.postMessage({action:"skipWaiting"})}},{key:"trackingprogressInstalled",value:function(e){var t=this;e.addEventListener("statechange",function(){"installed"==e.state&&t.updateReady(e)})}},{key:"setSwMsgContianer",value:function(){var e=this,t=document.createElement("div");t.className="snackbar";var n=document.createElement("p");n.id="msgOffline",t.appendChild(n);var r=document.createElement("button");r.type="button",r.className="snackbar-close",r.setAttribute("aria-label","snackbar-close"),r.addEventListener("click",this.hideMsg.bind(this)),r.innerHTML="&times;",t.appendChild(r),document.body.appendChild(t),window.addEventListener("online",this.updateNetworkState.bind(this)),window.addEventListener("offline",this.updateNetworkState.bind(this)),t.addEventListener("mouseover",function(){null!==e._timeoutMsg&&clearTimeout(e._timeoutMsg)}),t.addEventListener("mouseout",function(){null!==e._timeoutMsg&&(e._timeoutMsg=setTimeout(e.hideMsg.bind(e),2e3))})}},{key:"updateNetworkState",value:function(){navigator.onLine?(!0===this._isOffline&&(this.showMsg(this._config.msgOnline),this.bgSyncPolyfill()),this._isOffline=!1):(this.showMsg(this._config.msgOffline),this._isOffline=!0)}},{key:"listenToMessages",value:function(){var e=this;navigator.serviceWorker.addEventListener("message",function(t){"reloadThePageForMAJ"===t.data&&e.showMsg(e._config.msgWhenUpdate),"NotifyUserReqSaved"===t.data&&e.showMsg(e._config.msgSync),"isVisible"===t.data&&t.ports[0].postMessage(e.getVisibilityState())})}},{key:"send_message_to_sw",value:function(e){return new Promise(function(t,n){var r=new MessageChannel;r.port1.onmessage=function(e){e.data.error?n(e.data.error):t(e.data)},navigator.serviceWorker.controller.postMessage(e,[r.port2])})}},{key:"showMsg",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4500,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;""!==e&&(!1===n&&document.body.classList.contains("snackbar--show")?this._msgHolder={msg:e,timeToHide:t,priority:n,callback:r}:(document.getElementById("msgOffline").innerHTML=e,document.body.classList.add("snackbar--show"),null!==r&&r(),null!==this._timeoutMsg&&clearTimeout(this._timeoutMsg),this._timeoutMsg=null!==t?setTimeout(this.hideMsg.bind(this),t):null))}},{key:"hideMsg",value:function(){var e=this;document.body.classList.remove("snackbar--show"),setTimeout(function(){if(null!==e._msgHolder){var t=e._msgHolder,n=t.msg,r=t.timeToHide,o=t.priority,i=t.callback;e.showMsg(n,r,o,i),e._msgHolder=null}},400)}},{key:"getVisibilityState",value:function(){return!document.hidden}},{key:"bgSyncPolyfill",value:function(){"SyncManager"in self==!1&&navigator.serviceWorker.controller&&this.send_message_to_sw({action:"bgSyncPolyfill"})}},{key:"callFuncsWhenDOMContentLoaded",value:function(){var e=this;document.addEventListener("DOMContentLoaded",function(){e.bgSyncPolyfill()})}},{key:"addToHomeScreen",value:function(){var e=this;this.hideMsg(),this._deferredPrompt.prompt(),this._deferredPrompt.userChoice.then(function(t){"accepted"===t.outcome?console.log("User accepted the A2HS prompt"):(console.log("User dismissed the A2HS prompt"),e.delayA2HSprompt()),e._deferredPrompt=null})}},{key:"delayA2HSprompt",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,t=new Date;t.setDate(t.getDate()+e),localStorage.setItem("A2HSPromptDate",t)}},{key:"isA2HSpromptDelayExpired",value:function(){return new Date(localStorage.getItem("A2HSPromptDate"))<=new Date}},{key:"cancelA2HSprompt",value:function(e){document.getElementById("cancel-btn").addEventListener("click",function(){e.delayA2HSprompt(),e.hideMsg()})}},{key:"showAddToHomeScreen",value:function(){var e,t=this,n='<button class="btn-install" id="install-btn">'.concat(this._config.installBtnText,'</button>\n\t\t<button class="btn-install--cancel" id="cancel-btn">').concat(this._config.laterBtnText,"</button>"),r="".concat(this._config.msgAndroidA2HSPrompt,' <div class="btn-container">').concat(n,"</div>");this.showMsg(r,null,!1,(e=this,function(){document.getElementById("install-btn").addEventListener("click",e.addToHomeScreen.bind(e)),e.cancelA2HSprompt(e)})),window.addEventListener("appinstalled",function(){t.showMsg(t._config.msgToShowWhenAppInstalled,null,!1)})}},{key:"isIos",value:function(){var e=window.navigator.userAgent.toLowerCase();return/iphone|ipad|ipod/.test(e)}},{key:"isInStandaloneMode",value:function(){return"standalone"in window.navigator&&window.navigator.standalone}},{key:"listenToInstallPrompt",value:function(){var e=this;window.addEventListener("beforeinstallprompt",function(t){t.preventDefault(),e._deferredPrompt=t,!e._isOffline&&e.isA2HSpromptDelayExpired()&&e.showAddToHomeScreen()})}},{key:"installPromptManager",value:function(){if(this.isIos()){if(!this.isInStandaloneMode()&&this.isA2HSpromptDelayExpired()){var e='<div class="btn-container"><button class="btn-install" id="install-btn">Ok</button>\n            <button class="btn-install--cancel" id="cancel-btn">'.concat(this._config.laterBtnText,"</button>"),t=this._config.msgIosA2HSPrompt.replace("<shareImgHtml>",'<img class="img-icon" src="./pwaicons/ios-share-icon.png">').replace("<addHomeScreenImgHtml>",'<img class="img-icon" src="./pwaicons/ios-add-new-icon.png">')+e;this.showMsg(t,null,!1,(n=this,function(){document.getElementById("install-btn").addEventListener("click",n.hideMsg.bind(n)),n.cancelA2HSprompt(n)}))}}else this.listenToInstallPrompt();var n}},{key:"fire",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.initConfig(t),this.setSwMsgContianer(),"serviceWorker"in navigator){e.next=5;break}return this.showMsg(this._config.msgSWUnsupported),e.abrupt("return",Promise.reject(this._config.msgSWUnsupported));case 5:return e.prev=5,this.callFuncsWhenDOMContentLoaded(),e.next=9,this.serviceWorkerRegistration();case 9:return this.installPromptManager(),this.listenToMessages(),this.updateNetworkState(),e.abrupt("return",Promise.resolve());case 15:e.prev=15,e.t0=e.catch(5),console.log(e.t0);case 18:case"end":return e.stop()}},e,this,[[5,15]])}),function(){var t=this,n=arguments;return new Promise(function(o,i){var a=e.apply(t,n);function s(e){r(a,o,i,s,c,"next",e)}function c(e){r(a,o,i,s,c,"throw",e)}s(void 0)})});return function(e){return t.apply(this,arguments)}}()}])&&o(t.prototype,n),i&&o(t,i),e}());n.default=i},{"core-js/modules/es6.object.assign":89,"core-js/modules/es6.promise":91,"core-js/modules/es6.regexp.replace":95,"regenerator-runtime/runtime":104}],112:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default={MAPBOX_TOKEN:"pk.eyJ1IjoibW9oY2luZTkyIiwiYSI6ImNqa21lY3JoZjF1cGozcXBrOGI5cnRlNGkifQ.VcGgA3YMmeEWpARnDTyxDQ"}},{}]},{},[110]);